!function(e,t){e.encrypt=function(o,n){n="undefined"==typeof n?t.element(document).injector().get("secret"):n;var a=e.CryptoJS.AES.encrypt(o,n);return a.toString()},e.decrypt=function(o,n){n="undefined"==typeof n?t.element(document).injector().get("secret"):n;var a=e.CryptoJS.AES.decrypt(o,n);return a.toString(e.CryptoJS.enc.Utf8)}}(window,angular);var application=angular.module("application",["m","ngAnimate","ngAria","ngMaterial","ngMessageFormat","ngMessages","ngResource","ngRoute","ngSanitize","pascalprecht.translate","application.templates"]);application.config(["$httpProvider",function(e){e.defaults.headers={common:{"Content-Type":"application/json"},post:{"Content-Type":"application/json"},put:{"Content-Type":"application/json"},"delete":{"Content-Type":"application/json"}},e.interceptors.push("HttpInterceptor")}]),application.config(["$mdThemingProvider",function(e){e.alwaysWatchTheme(!0),e.theme("cyan").primaryPalette("cyan").accentPalette("indigo"),e.theme("deep-purple").primaryPalette("deep-purple").accentPalette("indigo"),e.theme("green").primaryPalette("green").accentPalette("indigo"),e.theme("light-green").primaryPalette("light-green").accentPalette("indigo"),e.theme("purple").primaryPalette("purple").accentPalette("indigo"),e.theme("pink").primaryPalette("pink").accentPalette("indigo"),e.theme("red").primaryPalette("red").accentPalette("indigo"),e.theme("teal").primaryPalette("teal").accentPalette("indigo"),e.theme("grey").primaryPalette("grey",{"default":"200"}).accentPalette("blue"),e.theme("white").primaryPalette("grey",{"default":"200"}).accentPalette("blue")}]),application.config(["$translateProvider",function(e){e.useSanitizeValueStrategy("sanitize"),e.preferredLanguage("en")}]),application.config(["$locationProvider","$routeProvider",function(e,t){e.html5Mode(!0).hashPrefix("!#"),t.otherwise({redirectTo:"/home"})}]),application.factory("Settings",function(){var e={};return e}),application.config(["$routeProvider",function(e){e.when("/home",{controller:"HomeController",templateUrl:"home.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/addFriends",{controller:"AddFriendsController",templateUrl:"messages/add_friends.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$routeProvider",function(e){e.when("/messages",{controller:"MessagesController",templateUrl:"messages/messages.html",resolve:{isGuest:["Auth",function(e){return e.isGuest()}]}})}]),application.config(["$translateProvider",function(e){e.translations("en",{action_add_person:"Add Friend",action_back:"Back",action_comment:"Comment",action_details:"Details",action_email:"Email",action_menu:"Menu",action_message:"Messages",action_notifications:"Notifications",action_person:"Person",action_reset:"Reset",action_search:"Search",action_shopping_cart:"Shopping Cart",title_add_friend:"Add Friends",title_chatters:"Chatters",title_message:"Messages",toast_incorrect_credentials:"The user credentials is incorrect.",toast_invalid_refresh_token:"The refresh token is invalid.",toast_method_not_allowed:"Request to the resource is not allowed.",toast_validation_failed:"Validation failed on server.",validation_maxlength_24:"This field may not be greater than 24 characters.",validation_maxlength_255:"This field may not be greater than 255 characters.",validation_maxlength_40:"This field may not be greater than 40 characters.",validation_minlength_4:"This field must be at least 4 characters.",validation_required:"This field is required."})}]),application.config(["$translateProvider",function(e){e.translations("ms",{toast_incorrect_credentials:"The user credentials is incorrect.",toast_invalid_refresh_token:"The refresh token is invalid.",toast_method_not_allowed:"Request to the resource is not allowed.",toast_validation_failed:"Validation failed on server.",validation_maxlength_24:"This field may not be greater than 24 characters.",validation_maxlength_255:"This field may not be greater than 255 characters.",validation_maxlength_40:"This field may not be greater than 40 characters.",validation_minlength_4:"This field must be at least 4 characters.",validation_required:"This field is required."})}]),application.controller("HomeController",["$scope","$location",function(e,t){e.theme="teal",e.query={username:""},e.reset=function(){e.query.$=""},e.messages=function(){t.path("/messages")}}]),application.controller("AddFriendsController",["$location","$scope",function(e,t){t.theme="teal",t.query={username:""},t.reset=function(){t.query.$=""},t.back=function(){e.path("/messages")}}]),application.controller("MessagesController",["$location","$mdSidenav","$scope",function(e,t,o){o.theme="teal",o.query={username:""},o.reset=function(){o.query.$=""},o.back=function(){e.path("/home")},o.add=function(){e.path("/addFriends")},o.close=function(){t("friends").close()},o.friends=function(){t("friends").open()},o.todoList=[{}],o.todoAdd=function(){o.todoList.push({todoText:o.todoInput,done:!1}),o.todoInput=""},o.remove=function(){var e=o.todoList;o.todoList=[],angular.forEach(e,function(e){e.done||o.todoList.push(e)})};var n="img/list/60.jpeg";o.messages=[{face:n,no:"0123456789",times:"7.45 A.M",dates:"2 October 2015",notes:" testing"},{face:n,no:"0132456789",times:"7.45 A.M",dates:"2 October 2015",notes:" I'll be in your neighborhood doing errands"},{face:n,no:"0172345689",times:"7.45 A.M",dates:"2 October 2015",notes:" stay away"},{face:n,no:"0142356789",times:"7.45 A.M",dates:"2 October 2015",notes:" nice to know you"},{face:n,no:"0162345987",times:"7.45 A.M",dates:"2 October 2015",notes:" it's time for you and me"},{face:n,no:"0123987654",times:"7.45 A.M",dates:"2 October 2015",notes:" rampage"},{face:n,no:"0193265487",times:"7.45 A.M",dates:"2 October 2015",notes:" and the end"},{face:n,no:"0129874563",times:"7.45 A.M",dates:"2 October 2015",notes:" just ok"},{face:n,no:"0162398745",times:"7.45 A.M",dates:"2 October 2015",notes:" let it go"},{face:n,no:"014327895",times:"7.45 A.M",dates:"2 October 2015",notes:" try to make a good atitude"},{face:n,no:"0163294578",times:"7.45 A.M",dates:"2 October 2015",notes:" stanby"}]}]),application.factory("API",["Settings",function(e){var t={};return t.get=function(o){return e.host.concat(t[o])},t}]),application.factory("Auth",["$http","$location","$q","$window","API","Settings",function(e,t,o,n,a,r){var i={};return i.forget=function(){var e=o.defer();return n.localStorage.removeItem("expires_in"),n.localStorage.removeItem("access_token"),n.localStorage.removeItem("refresh_token"),n.localStorage.removeItem("token_type"),n.localStorage.removeItem("id"),n.localStorage.removeItem("type"),n.localStorage.removeItem("scopes"),t.path("/login"),e.resolve(),e.promise},i.handler=function(e){return n.localStorage.expires_in=e.data.expires_in,n.localStorage.access_token=e.data.access_token,n.localStorage.refresh_token=e.data.refresh_token,n.localStorage.token_type=e.data.token_type,e},i.id=function(){return n.localStorage.hasOwnProperty("id")?angular.fromJson(n.localStorage.id):!1},i.isGuest=function(){var e=o.defer();return i.isLogged().then(function(){e.reject("auth.is_guest")})["catch"](function(){e.resolve(!0)}),e.promise},i.isLogged=function(){var e=o.defer();return n.localStorage.hasOwnProperty("expires_in")&&n.localStorage.hasOwnProperty("access_token")&&n.localStorage.hasOwnProperty("refresh_token")&&n.localStorage.hasOwnProperty("token_type")?e.resolve(!0):e.reject("auth.is_logged"),e.promise},i.refresh=function(){var t={grant_type:"refresh_token",user_id:r.user_id,user_secret:r.user_secret,scope:r.scopes.join(),refresh_token:n.localStorage.refresh_token};return e.post(a.get("access_token"),t).then(i.handler)},i.scopes=function(){return n.localStorage.hasOwnProperty("scopes")?angular.fromJson(n.localStorage.scopes):!1},i.session=function(){return e.get(a.get("session")).then(function(e){console.info(e),n.localStorage.id=angular.toJson(e.data.id),n.localStorage.type=angular.toJson(e.data.type),n.localStorage.scopes=angular.toJson(e.data.scopes)})},i.type=function(){return n.localStorage.hasOwnProperty("type")?angular.fromJson(n.localStorage.type):!1},i.verify=function(t){var o={grant_type:"password",user_id:r.user_id,user_secret:r.user_secret,scope:r.scopes.join(),username:t.username,password:t.password};return e.post(a.get("access_token"),o).then(i.handler)},i}]),application.factory("HttpInterceptor",["$injector","$q","$translate","$window",function(e,t,o,n){var a=null,r={};return r.request=function(t){if(e.get("Auth").isLogged()){var o=n.localStorage.token_type,a=n.localStorage.access_token;t.headers.Authorization=o+" "+a}return t},r.responseError=function(n){switch(console.error(n),n.status){case 401:return a=a?a:e.get("Auth").refresh(),a["finally"](function(){a=null}).then(function(){return e.get("$http")(n.config)});case 405:return o("toast_method_not_allowed").then(function(t){var o=e.get("$mdToast"),n=o.simple().content(t).position("bottom left right");o.show(n)}),t.reject(n);case 422:return o("toast_validation_failed").then(function(t){var o=e.get("$mdToast"),n=o.simple().content(t).position("bottom left right");o.show(n)}),t.reject(n);case 500:return"The user credentials were incorrect."==n.data.message?(o("toast_incorrect_credentials").then(function(t){var o=e.get("$mdToast"),n=o.simple().content(t).position("bottom left right");o.show(n)}),t.reject(n)):("The refresh token is invalid."==n.data.message&&o("toast_invalid_refresh_token").then(function(t){var o=e.get("$mdToast"),n=o.simple().content(t).position("bottom left right");o.show(n)}),e.get("Auth").forget(),t.reject(n))}},r}]);
//# sourceMappingURL=application.min.js.map